From 1465c76fc99cdc64ab78da945a670a8b2baf110a Mon Sep 17 00:00:00 2001
From: Joachim Breitner <mail@joachim-breitner.de>
Date: Tue, 12 Jan 2010 17:47:02 +0100
Subject: Allow using the system wide docbook-xsl installation

---
 3rd/docbook/docbook-default.t |   24 ++++++++++++++++++++++++
 1 files changed, 24 insertions(+), 0 deletions(-)
 create mode 100644 3rd/docbook/docbook-default.t

diff --git a/3rd/docbook/docbook-default.t b/3rd/docbook/docbook-default.t
new file mode 100644
index 0000000..c027a5e
--- /dev/null
+++ b/3rd/docbook/docbook-default.t
@@ -0,0 +1,24 @@
+#!
+#! Template for qscintilla as a Syntext 3rd component
+#!
+#!
+#!##############################################################################
+#${
+    IncludeTemplate("3rd/pkg-utils");
+    my $third_dir = Project("THIRD_DIR");
+
+    my %package = ( NAME => 'docbook' );
+    if (Config("syspkg") || Config("syspkgonly")) {
+    	my $docbook_dir = "/usr/share/xml/docbook/stylesheet/docbook-xsl";
+    	unless (-e $docbook_dir) {
+		tmake_error("Could not find docbook stylesheet directory \"$docbook_dir\"\n");
+	}
+	write_script("$third_dir/bin/docbook2html", <<__EOF__);
+DOCBOOK_DIR="$docbook_dir"; export DOCBOOK_DIR
+XSLTPROC="$third_dir/bin/xsltproc"; export XSLTPROC
+exec $third_dir/docbook/docbook2html.sh "$@"
+__EOF__
+        Project("TMAKE_TEMPLATE=");
+        return;
+    }
+#$}
-- 
1.6.6

